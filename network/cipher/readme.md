# 암호화

암호화는 크게 양방향 암호화, 단방향 암호화가 있다. 양방향은 키를 이용한 복호화가 가능하다는 차이점이 있다.

## 양방향 암호화

양방향 암호화에는 대칭키 방식과 비대칭키 방식으로 나눌 수 있다. 대칭 키 방식은 암호화와 복호화에 사용하는 키가 같은 것이고, 비대칭키 방식은 암호화 하는 키와 복호화 하는 키가 다른 것이다.

대칭키 방식에는 AES, DES, SEED 등이 있다. 비대칭키 방식에는 DAS, RSA가 있다. 대칭키에 비해 느리지만, 키 생성 시 private key와 public key가 생성된다.

### 대칭키

대칭키 방식은 암호화와 복호화에 사용되는 키가 같다. 암호화 속도가 빠르며 대용량 데이터를 암호화 하기에 적합하다. 대칭키 암호화 방식의 단점은 키가 탈취되면 평문을 알 수 있다으며, 키를 교환해야하는 문제가 발생한다. 사용자가 증가하게 된다면 키의 관리가 어려워진다. 

대표적인 알고리즘으로는 SEED, AES, DES 등이 있다. 

### 비대칭키

비대칭키는 공개키라고도 한다. 키가 공개되어 있기 때문에 키교환이나 분배를 할 필요가 없다. 개인키를 가지고 있는 수신자만 암호화된 데이터를 복호화 할 수 있다. 대칭키 암호화에 비해 속도가 느리다. 비대칭키의 발급 순서는 다음과 같다. 

1. 공개키/개인키 쌍 생성
2. 공개키는 공개, 개인키는 본인이 소유
3. 송신자가 수신자의 공개키를 받아옴
4. 송신자가 수신자의 공개키를 사용해 데이터 암호화
5. 암호화된 데이터를 수신자에게 전송
6. 수신자는 암호화된 데이터를 수신자의 개인키로 복호화(이로써 수신자만 볼 수 있다.)

## 단방향 암호화

단방향 암호화는 hash와 MAC 방식이 있다. 평문을 암호화 할 수 있지만, 복호화는 불가능하다.

단방향 암호화는 사용자 인증, 인가에 사용되는 JWT(json web token)에 사용되는 방식이다.

### Hash

Hash 방식의 암호화는 메세지로부터 고정 길이의 해시값을 계산한다. 해시된 값은 역 연산이 불가능 하여 단방향 암호화이다. 입력값의 길이가 달라도 반환되는 암호화된 문자열은 길이가 같다. 같은 메세지는 같은 해시 값을 반환한다. 해시 알고리즘은 MD5와 SHA-256이 대표적이다. 

#### MD5

Message Digest Algorithm 5는 MD4를 대체하기 위해 만들어졌다. 메세지를 입력받으면, 128비트 고정 길이의 값을 반환한다. 입력 메세지의 제한이 없으며, 프로그램이나 파일이 원본 그대로인지 확인하는 무결성 검사에 사용된다. 

#### SHA-256

Secure Hash Alglrithm은 MD5의 취약점을 보완하기 위해 고안된 알고리즘으로 미국 국가 표준으로 지정되었다. 해시 값의 크기는 SHA 알고리즘에 따라오는 비트 수만큼 달라지게 된다. SHA2와 SHA3을 사용한다.

해시 알고리즘은 암호화된 평문을 찾기까지 시간이 오래걸릴 뿐 탈취가 불가능한 것은 아니다.